{% extends 'layout.html' %}
{% load filters %}

{% block title %}
    Formulario en DJango
{% endblock %}

{% block content %}


    <h1 class="title">Formularios en DJango</h1> 
    <form action="{% url 'save_articulo' %}" method="POST">
        {% csrf_token %}
        <label for="titulo">Título</label>
        <input type="text" name="titulo" value="{{ titulo }}"/>
        {%if error_titulo%}
        <strong>{{mensajes.titulo}}</strong>
        {%endif%}

        <label for="contenido">Contenido </label>
        <textarea name="contenido" >{{contenido}}</textarea>
        {%if error_contenido%}
        <strong>{{mensajes.contenido}}</strong>
        {%endif%}

        <label for="publicado">¿Publicado?</label>
        <select name="publicado">
            <option value="1" {% if publicado == '1' %}selected{% endif %}> Si </option>
            <option value="0" {% if publicado == '0' %}selected{% endif %}> No </option>
        </select>

        <input type="submit" value="Agregar" />
        {% if mensaje %}
            <script>
                // Mostrar alerta con el mensaje
                window.onload = function() {
                    alert("{{ mensaje }}");
                }
            </script>
        {% endif %}
    </form>
    </form>

{% endblock %}
